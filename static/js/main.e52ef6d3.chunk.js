(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{10:function(t,e,n){t.exports=n(16)},15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(8),r=n.n(i),o=(n(15),n(9)),l=n(2),c=n(3),u=n(1),d=n(5),h=n(4),v=(n(7),"hidden"),m="shown",f=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={clicked:!1,flag:!1},a.handleCellClicked=a.handleCellClicked.bind(Object(u.a)(a)),a.handleRightClick=a.handleRightClick.bind(Object(u.a)(a)),a}return Object(c.a)(n,[{key:"handleCellClicked",value:function(t){t.target;var e=this.props,n=e.row,a=e.column,s=e.state,i=(e.mine,e.count,e.clickedCell),r=this.state,o=r.clicked,l=r.flag;console.log("I was clicked in r,c:"+n+","+a),l||this.setState({clicked:!0}),"undefined"!==typeof s&&s!==v&&(console.log("This cell is already shown, set as clicked"),o=!0,this.setState({clicked:!0})),console.log("clicked state is: "+this.state.clicked+" clicked var is: "+o),o||i(n,a)}},{key:"handleRightClick",value:function(t){t.preventDefault();var e=this.props,n=e.row,a=e.column,s=e.rightClickedCell,i=e.state,r=this.state,o=r.clicked,l=r.flag;o||i!==m&&(l?this.setState({flag:!1}):this.setState({flag:!0}),s(n,a))}},{key:"render",value:function(){var t=this.props,e=t.row,n=t.column,a=t.state,i=t.mine,r=t.count,o=(t.clickedCell,t.rightClickedCell,this.state.flag&&a===v?"marked":""),l=i?"mine":"",c=r.toString();return s.a.createElement("td",{id:"".concat(e,"_").concat(n),className:"".concat(l," ").concat(o," ").concat(a," _").concat(c),onClick:this.handleCellClicked.bind(this),onContextMenu:this.handleRightClick.bind(this)})}}]),n}(a.Component),g=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={elapsedTime:0,initTime:0,running:!1},a.start=a.start.bind(Object(u.a)(a)),a.reset=a.reset.bind(Object(u.a)(a)),a}return Object(c.a)(n,[{key:"start",value:function(){var t=this;this.setState((function(e){if(e.running)clearInterval(t.timer);else{var n=Date.now()-t.state.elapsedTime;t.timer=setInterval((function(){t.setState({elapsedTime:Date.now()-n})}))}}));var e=this.state.running;this.setState({running:!e})}},{key:"reset",value:function(){clearInterval(this.timer),this.setState({elapsedTime:0,initTime:0,running:!1})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var t=this.state,e=t.elapsedTime,n=t.running;t.initTime;console.log("elapsed time: "+e);var a=Math.floor(e/1e3).toString(),i=Math.floor(a%60).toString(),r=Math.floor(e/6e4).toString();return s.a.createElement("div",{id:"timer-wrapper"},s.a.createElement("p",null,r,"m: ",i,"s"),s.a.createElement("button",{id:"timer-start-button",className:"timer-button",onClick:this.start},n?"Stop":"Start"),s.a.createElement("button",{id:"timer-reset-button",className:"timer-button",onClick:this.reset}," Reset"))}}]),n}(a.Component),k=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={isHardMode:!1},a.handleToggleClick=a.handleToggleClick.bind(Object(u.a)(a)),a}return Object(c.a)(n,[{key:"handleToggleClick",value:function(){this.state.isHardMode?(console.log("Setting state: "+this.state.isHardMode),this.setState({isHardMode:!1})):(console.log("Else Setting state: "+this.state.isHardMode),this.setState({isHardMode:!0}))}},{key:"render",value:function(){var t,e,n,a=this.state.isHardMode;return a?(console.log("Creating minesweeper with difficulty mode: "+a),t=18,e=18,n=40):(console.log("Creating minesweeper with difficulty mode: "+a),t=10,e=10,n=8),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("h1",{className:"title-minesweeper"},"Minesweeper"),s.a.createElement(g,null),s.a.createElement(w,{key:a,isEasy:a,totRows:e,totColumns:t,totMines:n}),s.a.createElement("button",{id:"toggle-difficuly-button",className:"difficulty-button",onClick:this.handleToggleClick}," ",a?"Hard Mode":"Easy Mode"),s.a.createElement("p",null,"Remaining mines: ",n)))}}]),n}(s.a.Component),p="hidden",C="shown",b="marked",w=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;Object(l.a)(this,n);var s=(a=e.call(this,t)).props,i=s.totColumns,r=s.totRows,o=s.totMines;s.isEasy;console.log("Constructing with totalCOlumns = "+i);var c=i,d=r,h=o;return a.state={nCols:c,nRows:d,nMines:h,nmarked:0,nuncovered:0,exploded:!1,arr:a.array2d(d,c,(function(){return{mine:!1,state:p,count:0}}))},a.uncover=a.uncover.bind(Object(u.a)(a)),a}return Object(c.a)(n,[{key:"array2d",value:function(t,e,n){for(var a=[],s=0;s<t;s++){a[s]=[];for(var i=0;i<e;i++)a[s][i]=n(s,i)}return a}},{key:"rndInt",value:function(t,e){var n=[Math.ceil(t),Math.floor(e)];return e=n[1],(t=n[0])+Math.floor(Math.random()*(e-t+1))}},{key:"validCoord",value:function(t,e){return t>=0&&t<this.state.nRows&&e>=0&&e<this.state.nCols}},{key:"count",value:function(t,e){for(var n,a,s=this,i=0,r=-1;r<=1;r++)for(var o=-1;o<=1;o++)i+=(n=t+r,a=e+o,s.validCoord(n,a)&&s.state.arr[n][a].mine?1:0);return i}},{key:"sprinkleMines",value:function(t,e){for(var n=[],a=0;a<this.state.nRows;a++)for(var s=0;s<this.state.nCols;s++)(Math.abs(t-a)>2||Math.abs(e-s)>2)&&n.push([a,s]);this.state.nMines=Math.min(this.state.nMines,n.length);for(var i=0;i<this.state.nMines;i++){var r=this.rndInt(i,n.length-1),l=[n[r],n[i]];n[i]=l[0],n[r]=l[1];var c=Object(o.a)(n[i],2),u=c[0],d=c[1];this.state.arr[u][d].mine=!0,console.log("mine here:  r,c:"+u+","+d+" "+this.state.arr[u][d].mine)}for(var h=0;h<this.state.nRows;h++)for(var v=0;v<this.state.nCols;v++)this.state.arr[h][v].state==b&&(this.state.arr[h][v].state=p),this.state.arr[h][v].count=this.count(h,v);for(var m=[],f=0;f<this.state.nRows;f++){for(var g="",k=0;k<this.state.nCols;k++)g+=this.state.arr[f][k].mine?"B":".";g+="  |  ";for(var C=0;C<this.state.nCols;C++)g+=this.state.arr[f][C].count.toString();m[f]=g}var w=this.state.arr.map((function(t){return t.slice()}));this.setState({arr:w}),console.log("Mines and counts after sprinkling:"),console.log(m.join("\n"),"\n")}},{key:"uncover",value:function(t,e){var n=this;if(console.log("uncover",t,e),!this.validCoord(t,e))return console.log("Requested coordinates ("+t+", "+e+") were invalid."),!1;var a=this.state.nuncovered;if(console.log("beginning uncover method with nuncovered: "+this.state.nuncovered+" with var: "+a),0===this.state.nuncovered&&(console.log("populating with mines at: "+t+", "+e),this.sprinkleMines(t,e)),"undefined"!==typeof this.state.arr[t][e].state&&(console.log("state of this cell is not undefined, it's: "+this.state.arr[t][e].state),this.state.arr[t][e].state!==p))return!1;var s=this.state.arr.map((function(t){return t.slice()})),i=this.state.nuncovered;!function t(e,a,s,i){n.validCoord(e,a)&&("undefined"!==typeof s[e][a].state&&s[e][a].state!==p||(s[e][a].state=C,i++,n.state.nuncovered=i,n.setState({nuncovered:i},(function(){console.log("updated nuncovered state in ff: "+n.state.nuncovered)})),0===s[e][a].count&&(t(e-1,a-1,s,i),t(e-1,a,s,i),t(e-1,a+1,s,i),t(e,a-1,s,i),t(e,a+1,s,i),t(e+1,a-1,s,i),t(e+1,a,s,i),t(e+1,a+1,s,i))))}(t,e,s,i),this.setState({arr:s},(function(){})),this.setState({nuncovered:this.state.nuncovered},(function(){console.log("updated nuncovered state AFTER ff: "+n.state.nuncovered)}));var r=!1;if(this.state.arr[t][e].mine&&(console.log("Mine at "+t+", "+e+" was hit"),this.state.exploded=!0,r=!0,alert("You lost"),window.location.reload(!0)),!r){for(var o=0,l=0;l<this.state.arr.length;l++)for(var c=0;c<this.state.arr.length;c++)this.state.arr[l][c].state!==p&&this.state.arr[l][c].state!==b||o++;o===this.state.nMines&&(alert("You win!"),window.location.reload(!0))}return console.log("nuncovered state value: "+this.state.nuncovered+" , uncoveredUpdated temp var: "+i),!0}},{key:"mark",value:function(t,e){return console.log("mark",t,e),!!this.validCoord(t,e)&&(console.log("marking previous state=",this.state.arr[t][e].state),this.state.arr[t][e].state!==C&&(this.nmarked+=this.state.arr[t][e].state==b?-1:1,this.state.arr[t][e].state=this.state.arr[t][e].state==b?p:b,!0))}},{key:"getRendering",value:function(){for(var t=[],e=0;e<this.state.nRows;e++){for(var n="",a=0;a<this.state.nCols;a++){var s=this.state.arr[e][a];this.exploded&&s.mine?n+="M":s.state===p?n+="H":s.state===b?n+="F":s.mine?n+="M":n+=s.count.toString()}t[e]=n}return t}},{key:"getStatus",value:function(){var t=this.state.exploded||this.state.nuncovered===this.state.nRows*this.state.nCols-this.state.nMines;return t&&alert("You win!"),{done:t,exploded:this.state.exploded,nRows:this.state.nRows,nCols:this.state.nCols,nmarked:this.state.nmarked,nuncovered:this.state.nuncovered,nMines:this.state.nMines}}},{key:"render",value:function(){var t=this;this.props.isEasy;return s.a.createElement("div",{id:"gameboard-container"},s.a.createElement("table",{id:"gameboard-table"},s.a.createElement("tbody",null,this.state.arr.map((function(e,n){return s.a.createElement("tr",{key:n},e.map((function(e,a){return s.a.createElement(f,{key:a,row:n,column:a,state:e.state,mine:e.mine,count:e.count,clickedCell:t.uncover.bind(t),rightClickedCell:t.mark.bind(t)})})))})))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},7:function(t,e,n){}},[[10,1,2]]]);
//# sourceMappingURL=main.e52ef6d3.chunk.js.map